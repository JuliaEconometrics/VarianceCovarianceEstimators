<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="José Bayoán Santiago Calderón">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Getting Started - VarianceCovarianceEstimators.jl</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  <link href="../assets/Documenter.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Getting Started";
    var mkdocs_page_input_path = "GettingStarted.md";
    var mkdocs_page_url = "/GettingStarted/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> VarianceCovarianceEstimators.jl</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">Getting Started</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#getting-started">Getting Started</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#installation">Installation</a></li>
        
            <li><a class="toctree-l3" href="#for-package-developers">For Package Developers</a></li>
        
        </ul>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../ModelAPI/">Model API</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Examples/">Examples</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../References/">References</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">VarianceCovarianceEstimators.jl</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Getting Started</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/JuliaEconometrics/VarianceCovarianceEstimators.jl/edit/master/docs/GettingStarted.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p><a id='Getting-Started-1'></a></p>
<h1 id="getting-started">Getting Started</h1>
<p><a id='Installation-1'></a></p>
<h2 id="installation">Installation</h2>
<p>During the Beta test stage the package can be installed using:</p>
<pre><code class="julia">Pkg.clone(&quot;https://github.com/JuliaEconometrics/VarianceCovarianceEstimators.jl.git&quot;)
</code></pre>

<p>Once it is released you it may be installed using:</p>
<pre><code class="julia">Pkg.add(&quot;VarianceCovarianceEstimators&quot;)
</code></pre>

<p><a id='For-Package-Developers-1'></a></p>
<h2 id="for-package-developers">For Package Developers</h2>
<p>This package provides a simple API for package developers to have access to a variety of variance covariance estimators. The struct should be <code>&lt;: StatsBase.RegressionModel</code> and have the following methods implemented.</p>
<pre><code>StatsBase.modelmatrix(obj::StatsBase.RegressionModel)
StatsBase.residuals(obj::StatsBase.RegressionModel)
</code></pre>

<p>The model matrix should be the matrix used for the parameter estimates. This implies that for instrumental variable methods it should be the instrumented matrix. If the model uses weights the model matrix should be weighted. For instrumental variables, the residuals should be calculated using the matrix with the endogenous variables.</p>
<p>In addition several methods have a default behavior which may need to be overwritten:</p>
<pre><code>function StatsBase.dof_residual(obj::StatsBase.RegressionModel)
    reduce(-, size(StatsBase.modelmatrix(obj)))
end
function StatsBase.deviance(obj::StatsBase.RegressionModel)
    StatsBase.residuals(obj).'StatsBase.residuals(obj) / StatsBase.dof_residual(obj)
end
function StatsBase.nobs(obj::StatsBase.RegressionModel)
    length(StatsBase.residuals(obj))
end
</code></pre>

<p>The residual degrees of freedom will depend on the (1) effective number of observations if using some weighting scheme and (2) the effective degrees of freedom (account for intercept, absorbed fixed effects, and regularization).</p>
<p>In addition to <code>StatsBase</code> methods the package has two more methods that can be used:</p>
<pre><code>function bread(obj::StatsBase.RegressionModel)
    mm = StatsBase.modelmatrix(obj)
    output = inv(cholfact!(mm.'mm))
    return output
end
clusters(obj::StatsBase.RegressionModel) = Vector{Vector{Int64}}()
</code></pre>

<p>The function <code>bread</code> can be overwritten with a cached object stored during the fitting process to avoid computing the inverse again or modified to allow for Ridge Regression</p>
<pre><code>function bread(obj::MyPkg.MyStruct)
    Γ = getfield(obj, :Γ)
    mm = StatsBase.modelmatrix(obj)
    output = inv(cholfact!(mm.'mm + Γ))
    return output
end
</code></pre>

<p>Clusters can be specified by <code>Clusters[Dimension[Cluster[Observations]]]</code> of type <code>Vector{Vector{Vector{T}}} where T &lt;: Integer</code>.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../ModelAPI/" class="btn btn-neutral float-right" title="Model API">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href=".." class="btn btn-neutral" title="Home"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/JuliaEconometrics/VarianceCovarianceEstimators.jl/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href=".." style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../ModelAPI/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js"></script>
      <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script src="../assets/mathjaxhelper.js"></script>
      <script src="../search/require.js"></script>
      <script src="../search/search.js"></script>

</body>
</html>
